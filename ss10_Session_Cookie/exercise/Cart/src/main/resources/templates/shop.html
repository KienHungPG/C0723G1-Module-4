<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Shop</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
<div class="d-flex justify-content-between mt-3 m-3">
    <h1>List Product</h1>
    <a href="/cart/shopping-cart">
        <button type="button" class="btn btn-outline-primary position-relative">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart"
                 viewBox="0 0 16 16">
                <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
            </svg>
            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                  th:text="${cart.countItemQuantity()}">
            </span>
        </button>
    </a>
</div>
<div class="row">
    <div>
        <div style="width: 300px" class=" form-control col-3" th:if="${message != null}" th:text="${message}"></div>
    </div>
</div>
<div class="container mt-4 mt-sm-2 row">
    <div class="col-4" th:each="product:${products}">
        <div class="card" style="width: 18rem;">
            <img th:src="${product.image}" class="card-img-top" alt="...">
            <div class="card-body">
                <h3 class="card-title" th:text=" ${product.name}"></h3>
                <h5 class="card-title"
                    th:text=" ${#numbers.formatDecimal(product.price, 0,  'COMMA', 0, 'POINT')}+' VNÄ'"></h5>
                <p class="card-text"
                   th:text="${#strings.length(product.description) > 100 ? #strings.substring(product.description,0,100) + '...' : product.description}"></p>
                <a class="btn btn-primary" th:href="@{/products/add/{id}(id=${product.id})}">Add To Cart</a>
                <a class="btn btn-primary" th:href="@{/products/detail/{id}(id=${product.id})}">Detail</a>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>
</body>
</html>